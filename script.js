if(!Object['hasOwnProperty']('values')){Object['values']=function(c){return Object['keys'](c)['map'](function(d){return c[d];});};}if(!String['prototype']['startsWith']){String['prototype']['startsWith']=function(e,f){f=f||0x0;return this['indexOf'](e,f)===f;};}TDV['EventDispatcher']=function(){this['_handlers']={};};TDV['EventDispatcher']['prototype']['bind']=function(g,h){if(!(g in this['_handlers']))this['_handlers'][g]=[];this['_handlers'][g]['push'](h);};TDV['EventDispatcher']['prototype']['unbind']=function(i,j){if(i in this['_handlers']){var k=this['_handlers'][i]['indexOf'](j);if(k!=-0x1)this['_handlers'][i]['splice'](k,0x1);}};TDV['EventDispatcher']['prototype']['createNewEvent']=function(l){if(typeof Event==='function')return new Event(l);var m=document['createEvent']('Event');m['initEvent'](l,!![],!![]);return m;};TDV['EventDispatcher']['prototype']['dispatchEvent']=function(n){if(n['type']in this['_handlers']){var o=this['_handlers'][n['type']];for(var p=0x0;p<o['length'];++p){o[p]['call'](window,n);if(n['defaultPrevented'])break;}}};TDV['Tour']=function(q,r){TDV['EventDispatcher']['call'](this);this['player']=undefined;this['_settings']=q;this['_devicesUrl']=r;this['_playersPlayingTmp']=[];this['_isInitialized']=![];this['_isPaused']=![];this['_isRemoteSession']=![];this['_lockedOrientation']=undefined;this['_device']=undefined;this['_setupRemote']();};TDV['Tour']['DEVICE_GENERAL']='general';TDV['Tour']['DEVICE_MOBILE']='mobile';TDV['Tour']['DEVICE_VR']='vr';TDV['Tour']['EVENT_TOUR_INITIALIZED']='tourInitialized';TDV['Tour']['EVENT_TOUR_LOADED']='tourLoaded';TDV['Tour']['EVENT_TOUR_ENDED']='tourEnded';TDV['Tour']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['prototype']['dispose']=function(){if(!this['player'])return;if(this['_onHashChange']){window['removeEventListener']('hashchange',this['_onHashChange']);this['_onHashChange']=undefined;}if(this['_onKeyUp']){document['removeEventListener']('keyup',this['_onKeyUp']);this['_onKeyUp']=undefined;}this['player']['delete']();this['player']=undefined;window['currentGlobalAudios']=undefined;window['pauseGlobalAudiosState']=undefined;window['currentPanoramasWithCameraChanged']=undefined;window['overlaysDispatched']=undefined;};TDV['Tour']['prototype']['load']=function(){if(this['player'])return;var s=function(v){if(v['name']=='begin'){var w=v['data']['source']['get']('camera');if(w&&w['get']('initialSequence')&&w['get']('initialSequence')['get']('movements')['length']>0x0)return;}if(v['sourceClassName']=='MediaAudio')return;this['_isInitialized']=!![];u['unbind']('preloadMediaShow',s,u,!![]);u['unbindOnObjectsOf']('PanoramaPlayListItem','begin',s,u,!![]);u['unbind']('stateChange',s,u,!![]);if(this['_isPaused'])this['pause']();window['parent']['postMessage'](TDV['Tour']['EVENT_TOUR_LOADED'],'*');this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_LOADED']));};this['_currentScriptUrl']=this['_getScriptUrl']();var t=this['_getOrientation']();this['_settings']['set'](TDV['PlayerSettings']['SCRIPT_URL'],this['_currentScriptUrl']);var u=this['player']=TDV['PlayerAPI']['create'](this['_settings']);u['bind']('preloadMediaShow',s,this,!![]);u['bind']('stateChange',s,this,!![]);u['bindOnObjectsOf']('PanoramaPlayListItem','begin',s,this,!![]);u['bindOnObject']('rootPlayer','start',function(x){var y=x['data']['source'];var z=window['navigator']['language']||window['navigator']['userLanguage']||'en';var A=y['get']('data')['locales']||{};var B=y['get']('data')['defaultLocale']||z;var C=this['locManager']=new TDV['Tour']['LocaleManager'](y,A,B,this['_settings']['get'](TDV['PlayerSettings']['QUERY_STRING_PARAMETERS']));y['get']('data')['localeManager']=C;var D=function(){var J=y['get']('data');if(!('updateText'in J)){J['updateText']=function(N){var O=N[0x0]['split']('.');if(O['length']==0x2){var P=C['trans']['apply'](C,N);var Q=N[0x1]||y;if(typeof Q=='string'){var R=Q['split']('.');Q=y[R['shift']()];for(var S=0x0;S<R['length']-0x1;++S){if(Q!=undefined)Q='get'in Q?Q['get'](R[S]):Q[R[S]];}if(Q!=undefined){var T=R[R['length']-0x1];if(Array['isArray'](Q)){for(var U=0x0;U<Q['length'];++U){this['setValue'](Q[U],T,P);}}else this['setValue'](Q,T,P);}}else{Q=Q[O[0x0]];this['setValue'](Q,O[0x1],P);}}}['bind'](y);}var K=J['translateObjs'];var L=J['updateText'];var M=function(){for(var V in K){L(K[V]);}};M();M();};this['locManager']['bind'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED'],D['bind'](this));var E=this['_getParams'](location['search']['substr'](0x1));var F=E['language'];if(!F||!this['locManager']['hasLocale'](E['language']))F=z;this['setLocale'](F);this['_setMediaFromURL'](this['_getParams'](location['hash']['substr'](0x1)),![])||this['_setMediaFromURL'](E,!![]);if(this['isMobile']()&&TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl']&&typeof this['_devicesUrl'][TDV['Tour']['DEVICE_MOBILE']]=='object'){var G=function(){if(!y['isCardboardViewMode']()&&this['_getOrientation']()!=t){this['reload']();}};var H=y['getByClassName']('PanoramaPlayer');for(var I=0x0;I<H['length'];++I){H[I]['bind']('viewModeChange',G,this);}y['bind']('orientationChange',G,this);}this['_onHashChange']=function(){this['_setMediaFromURL'](this['_getParams'](location['hash']['substr'](0x1)),![]);}['bind'](this);this['_onKeyUp']=function(W){if(W['key']=='u'){this['updateDeepLink']();this['copyToClipboard'](location['href']);}}['bind'](this);window['addEventListener']('hashchange',this['_onHashChange']);document['addEventListener']('keyup',this['_onKeyUp']);y['bind']('tourEnded',function(){this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_ENDED']));},this,!![]);this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_INITIALIZED']));},this,![]);window['addEventListener']('message',function(X){var Y=X['data'];if(Y=='pauseTour')Y='pause';else if(Y=='resumeTour')Y='resume';else return;this[Y]['apply'](this);}['bind'](this));};TDV['Tour']['prototype']['pause']=function(){this['_isPaused']=!![];if(!this['_isInitialized'])return;var Z=player['getByClassName']('PlayList');for(var a0=0x0,a1=Z['length'];a0<a1;a0++){var a2=Z[a0];var a3=a2['get']('selectedIndex');if(a3!=-0x1){var a4=a2['get']('items')[a3];var a5=a4['get']('player');if(a5&&a5['pause']){this['_playersPlayingTmp']['push'](a5);a5['pause']();}}}this['player']['getById']('pauseGlobalAudios')();};TDV['Tour']['prototype']['resume']=function(){this['_isPaused']=![];if(!this['_isInitialized'])return;while(this['_playersPlayingTmp']['length']){var a6=this['playersPlayingTmp']['pop']();a6['play']();}this['player']['getById']('resumeGlobalAudios')();};TDV['Tour']['prototype']['reload']=function(){this['updateDeepLink']();this['dispose']();this['load']();};TDV['Tour']['prototype']['setMediaByIndex']=function(a7){var a8=this['_getRootPlayer']();if(a8!==undefined){return a8['setMainMediaByIndex'](a7);}};TDV['Tour']['prototype']['setMediaByName']=function(a9){var aa=this['_getRootPlayer']();if(aa!==undefined){return aa['setMainMediaByName'](a9);}};TDV['Tour']['prototype']['triggerOverlayByName']=function(ab,ac,ad){var ae=this['_getRootPlayer']();if(ae!==undefined&&ad){var af=ae['getPanoramaOverlayByName'](ab['get']('media'),ac);if(af){ae['triggerOverlay'](af,ad);}}};TDV['Tour']['prototype']['focusOverlayByName']=function(ag,ah){var ai=this['_getRootPlayer']();if(ai!==undefined){var aj=ai['getPanoramaOverlayByName'](ag['get']('media'),ah);if(aj){var ak=aj['get']('class');var al=ak=='VideoPanoramaOverlay'?aj:aj['get']('items')[0x0];var am=al['get']('yaw');var an=al['get']('pitch');var ao=ai['getPlayListWithItem'](ag);if(am&&an&&ao){var ap=function(){ai['setPanoramaCameraWithSpot'](ao,ag,am,an);};if(!this['_isInitialized']){var aq=function(){ag['unbind']('begin',aq,this);ap();};ag['bind']('begin',aq,this);}else{ap();}}}}};TDV['Tour']['prototype']['updateDeepLink']=function(){var ar=this['_getRootPlayer']();if(ar!==undefined){ar['updateDeepLink']();}};TDV['Tour']['prototype']['setLocale']=function(as){var at=this['_getRootPlayer']();if(at!==undefined&&this['locManager']!==undefined){this['locManager']['setLocale'](as);}};TDV['Tour']['prototype']['isMobile']=function(){return TDV['PlayerAPI']['mobile'];};TDV['Tour']['prototype']['copyToClipboard']=function(au){if(navigator['clipboard']){navigator['clipboard']['writeText'](au);}else{var av=document['createElement']('textarea');av['value']=au;av['style']['position']='fixed';document['body']['appendChild'](av);av['focus']();av['select']();try{document['execCommand']('copy');}catch(aw){}document['body']['removeChild'](av);}};TDV['Tour']['prototype']['_getOrientation']=function(){var ax=this['_getRootPlayer']();if(ax){return ax['get']('orientation');}else if(this['_lockedOrientation']){return this['_lockedOrientation'];}else{return TDV['PlayerAPI']['getOrientation']();}};TDV['Tour']['prototype']['_getParams']=function(ay){var az={};ay['split']('&')['forEach'](function(aA){var aB=aA['split']('=')[0x0],aC=decodeURIComponent(aA['split']('=')[0x1]);az[aB['toLowerCase']()]=aC;});return az;};TDV['Tour']['prototype']['_getRootPlayer']=function(){return this['player']!==undefined?this['player']['getById']('rootPlayer'):undefined;};TDV['Tour']['prototype']['_getScriptUrl']=function(){this['_device']=TDV['Tour']['DEVICE_GENERAL'];if(!this['_isRemoteSession']&&this['isMobile']()&&TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl']){this['_device']=TDV['Tour']['DEVICE_MOBILE'];}var aD=this['_devicesUrl'][this['_device']];if(typeof aD=='object'){var aE=this['_getOrientation']();if(aE in aD){aD=aD[aE];}}return aD;};TDV['Tour']['prototype']['_setMediaFromURL']=function(aF,aG){var aH=this['_getRootPlayer']();var aI=aH['getActivePlayerWithViewer'](aH['MainViewer']);var aJ=aI?aH['getMediaFromPlayer'](aI):undefined;var aK=undefined;if('media'in aF){var aL=aF['media'];var aM=Number(aL);aK=isNaN(aM)?this['setMediaByName'](aL):this['setMediaByIndex'](aM-0x1);}else if('media-index'in aF){aK=this['setMediaByIndex'](parseInt(aF['media-index'])-0x1);}else if('media-name'in aF){aK=this['setMediaByName'](aF['media-name']);}if(aK==undefined&&aG){aK=this['setMediaByIndex'](0x0);}if(aK!=undefined){var aN=aK['get']('player');var aO=function(){if('trigger-overlay-name'in aF){this['triggerOverlayByName'](aK,aF['trigger-overlay-name'],'trigger-overlay-event'in aF?aF['trigger-overlay-event']:'click');}if('focus-overlay-name'in aF){this['focusOverlayByName'](aK,aF['focus-overlay-name']);}else if('yaw'in aF&&'pitch'in aF){var aS=parseInt(aF['yaw']);var aT=parseInt(aF['pitch']);var aU=aH['getPlayListWithItem'](aK);if(!isNaN(aS)&&!isNaN(aT)&&aU)aH['setPanoramaCameraWithSpot'](aU,aK,aS,aT);}}['bind'](this);if(aN){var aP=aN['get']('viewerArea')==aH['MainViewer'];var aQ=aH['getMediaFromPlayer'](aN);if(aP&&aJ==aK['get']('media')||!aP&&aQ==aK['get']('media')){aO();return aK!=undefined;}}var aR=function(){aK['unbind']('begin',aR,this);aO();};aK['bind']('begin',aR,aH);}return aK!=undefined;};TDV['Tour']['prototype']['_setupRemote']=function(){if(this['isMobile']()&&TDV['Remote']!=undefined){var aV=function(){var aW=undefined;var aX=function(){var b0=this['_getRootPlayer']();aW=b0['get']('lockedOrientation');b0['set']('lockedOrientation',this['_lockedOrientation']);}['bind'](this);this['_isRemoteSession']=!![];this['_lockedOrientation']=TDV['PlayerAPI']['ORIENTATION_LANDSCAPE'];if(this['_device']!=TDV['Tour']['DEVICE_GENERAL']){var aY=function(){aX();this['unbind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],aY);}['bind'](this);this['bind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],aY);this['reload']();}else{aX();}var aZ=function(){this['_isRemoteSession']=![];this['_getRootPlayer']()['set']('lockedOrientation',aW);TDV['Remote']['unbind'](TDV['Remote']['EVENT_CALL_END'],aZ);var b1=this['_getScriptUrl']();if(this['_currentScriptUrl']!=b1)this['reload']();}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],aZ);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],aV);}};TDV['Tour']['LocaleManager']=function(b2,b3,b4,b5){TDV['EventDispatcher']['call'](this);this['rootPlayer']=b2;this['locales']={};this['defaultLocale']=b4;this['queryParam']=b5;this['currentLocaleMap']={};this['currentLocaleID']=undefined;for(var b6 in b3){this['registerLocale'](b6,b3[b6]);}};TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']='localeChanged';TDV['Tour']['LocaleManager']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['LocaleManager']['prototype']['registerLocale']=function(b7,b8){var b9=[b7,b7['split']('-')[0x0]];for(var ba=0x0;ba<b9['length'];++ba){b7=b9[ba];if(!(b7 in this['locales'])){this['locales'][b7]=b8;}}};TDV['Tour']['LocaleManager']['prototype']['unregisterLocale']=function(bb){delete this['locales'][bb];if(bb==this['currentLocaleID']){this['setLocale'](this['defaultLocale']);}};TDV['Tour']['LocaleManager']['prototype']['hasLocale']=function(bc){return bc in this['locales'];};TDV['Tour']['LocaleManager']['prototype']['setLocale']=function(bd){var be=undefined;var bf=bd['split']('-')[0x0];var bg=[bd,bf];for(var bh=0x0;bh<bg['length'];++bh){var bj=bg[bh];if(bj in this['locales']){be=bj;break;}}if(be===undefined){for(var bj in this['locales']){if(bj['indexOf'](bf)==0x0){be=bj;break;}}}if(be===undefined){be=this['defaultLocale'];}var bk=this['locales'][be];if(bk!==undefined&&this['currentLocaleID']!=be){this['currentLocaleID']=be;var bl=this;if(typeof bk=='string'){var bm=new XMLHttpRequest();bm['onreadystatechange']=function(){if(bm['readyState']==0x4){if(bm['status']==0xc8){bl['locales'][be]=bl['currentLocaleMap']=bl['_parsePropertiesContent'](bm['responseText']);bl['dispatchEvent'](bl['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}else{throw bk+'\x20can\x27t\x20be\x20loaded';}}};var bn=bk;if(this['queryParam'])bn+=(bn['indexOf']('?')==-0x1?'?':'&')+this['queryParam'];bm['open']('GET',bn);bm['send']();}else{this['currentLocaleMap']=bk;this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}}};TDV['Tour']['LocaleManager']['prototype']['trans']=function(bo){var bp=this['currentLocaleMap'][bo];if(arguments['length']>0x2){var bq=typeof arguments[0x2]=='object'?arguments[0x2]:undefined;var br=arguments;function bs(bt){return/^\d+$/['test'](bt);}bp=bp['replace'](/\{\{([\w\.]+)\}\}/g,function(bu,bv){if(bs(bv))bv=br[parseInt(bv)+0x1];else if(bq!==undefined)bv=bq[bv];if(typeof bv=='string')bv=this['currentLocaleMap'][bv]||bv;else if(typeof bv=='function')bv=bv['call'](this['rootPlayer']);return bv!==undefined?bv:'';}['bind'](this));}return bp;};TDV['Tour']['LocaleManager']['prototype']['_parsePropertiesContent']=function(bw){bw=bw['replace'](/(^|\n)#[^\n]*/g,'');var bx={};var by=bw['split']('\x0a');for(var bz=0x0,bA=by['length'];bz<bA;++bz){var bB=by[bz]['trim']();if(bB['length']==0x0){continue;}var bC=bB['indexOf']('=');if(bC==-0x1){console['error']('Locale\x20parser:\x20Invalid\x20line\x20'+bz);continue;}var bD=bB['substr'](0x0,bC)['trim']();var bE=bB['substr'](bC+0x1)['trim']();var bF;while((bF=bE['lastIndexOf']('\x5c'))!=-0x1&&bF==bE['length']-0x1&&++bz<bA){bE=bE['substr'](0x0,bE['length']-0x2);bB=by[bz]['trim']();if(bB['length']==0x0)break;bE+='\x0a'+bB;}bx[bD]=bE;}return bx;};TDV['Tour']['HistoryData']=function(bG){this['playList']=bG;this['list']=[];this['pointer']=-0x1;};TDV['Tour']['HistoryData']['prototype']['add']=function(bH){if(this['pointer']<this['list']['length']&&this['list'][this['pointer']]==bH){return;}++this['pointer'];this['list']['splice'](this['pointer'],this['list']['length']-this['pointer'],bH);};TDV['Tour']['HistoryData']['prototype']['back']=function(){if(!this['canBack']())return;this['playList']['set']('selectedIndex',this['list'][--this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['forward']=function(){if(!this['canForward']())return;this['playList']['set']('selectedIndex',this['list'][++this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['canBack']=function(){return this['pointer']>0x0;};TDV['Tour']['HistoryData']['prototype']['canForward']=function(){return this['pointer']>=0x0&&this['pointer']<this['list']['length']-0x1;};TDV['Tour']['Script']=function(){};TDV['Tour']['Script']['assignObjRecursively']=function(bI,bJ){for(var bK in bI){var bL=bI[bK];if(typeof bL=='object'&&bL!==null)this['assignObjRecursively'](bI[bK],bJ[bK]||(bJ[bK]={}));else bJ[bK]=bL;}return bJ;};TDV['Tour']['Script']['autotriggerAtStart']=function(bM,bN,bO){var bP=function(bQ){bN();if(bO==!![])bM['unbind']('change',bP,this);};bM['bind']('change',bP,this);};TDV['Tour']['Script']['changeBackgroundWhilePlay']=function(bR,bS,bT){var bU=function(c1){bV['unbind']('stop',bU,this);if(bT==bX['get']('backgroundColor')&&c0==bX['get']('backgroundColorRatios')){bX['set']('backgroundColor',bY);bX['set']('backgroundColorRatios',bZ);}};var bV=bR['get']('items')[bS];var bW=bV['get']('player');var bX=bW['get']('viewerArea');var bY=bX['get']('backgroundColor');var bZ=bX['get']('backgroundColorRatios');var c0=[0x0];if(bT!=bY||c0!=bZ){bX['set']('backgroundColor',bT);bX['set']('backgroundColorRatios',c0);bV['bind']('stop',bU,this);}};TDV['Tour']['Script']['changePlayListWithSameSpot']=function(c2,c3){var c4=c2['get']('selectedIndex');if(c4>=0x0&&c3>=0x0&&c4!=c3){var c5=c2['get']('items')[c4];var c6=c2['get']('items')[c3];var c7=c5['get']('player');var c8=c6['get']('player');if((c7['get']('class')=='PanoramaPlayer'||c7['get']('class')=='Video360Player')&&(c8['get']('class')=='PanoramaPlayer'||c8['get']('class')=='Video360Player')){var c9=this['cloneCamera'](c6['get']('camera'));this['setCameraSameSpotAsMedia'](c9,c5['get']('media'));this['startPanoramaWithCamera'](c6['get']('media'),c9);}}};TDV['Tour']['Script']['cloneCamera']=function(ca){var cb=this['rootPlayer']['createInstance'](ca['get']('class'));cb['set']('id',ca['get']('id')+'_copy');cb['set']('initialSequence',ca['get']('initialSequence'));cb['set']('idleSequence',ca['get']('idleSequence'));return cb;};TDV['Tour']['Script']['copyObjRecursively']=function(cc){var cd={};for(var ce in cc){var cf=cc[ce];if(typeof cf=='object'&&cf!==null)cd[ce]=this['copyObjRecursively'](cc[ce]);else cd[ce]=cf;}return cd;};TDV['Tour']['Script']['executeFunctionWhenChange']=function(cg,ch,ci,cj){var ck=undefined;var cl=function(co){if(co['data']['previousSelectedIndex']==ch){if(cj)cj['call'](this);if(ci&&ck)ck['unbind']('end',ci,this);cg['unbind']('change',cl,this);}};if(ci){var cm=cg['get']('items')[ch];if(cm['get']('class')=='PanoramaPlayListItem'){var cn=cm['get']('camera');if(cn!=undefined)ck=cn['get']('initialSequence');if(ck==undefined)ck=cn['get']('idleSequence');}else{ck=cm['get']('media');}if(ck){ck['bind']('end',ci,this);}}cg['bind']('change',cl,this);};TDV['Tour']['Script']['fixTogglePlayPauseButton']=function(cp){var cq=cp['get']('buttonPlayPause');if(typeof cq!=='undefined'&&cp['get']('state')=='playing'){if(!Array['isArray'](cq))cq=[cq];for(var cr=0x0;cr<cq['length'];++cr)cq[cr]['set']('pressed',!![]);}};TDV['Tour']['Script']['getActiveMediaWithViewer']=function(cs){var ct=this['getActivePlayerWithViewer'](cs);if(ct==undefined){return undefined;}return this['getMediaFromPlayer'](ct);};TDV['Tour']['Script']['getActivePlayerWithViewer']=function(cu){var cv=this['getCurrentPlayers']();var cw=cv['length'];while(cw-->0x0){var cx=cv[cw];if(cx['get']('viewerArea')==cu){var cy=cx['get']('class');if(cy=='PanoramaPlayer'&&(cx['get']('panorama')!=undefined||cx['get']('video')!=undefined))return cx;else if((cy=='VideoPlayer'||cy=='Video360Player')&&cx['get']('video')!=undefined)return cx;else if(cy=='PhotoAlbumPlayer'&&cx['get']('photoAlbum')!=undefined)return cx;else if(cy=='MapPlayer'&&cx['get']('map')!=undefined)return cx;}}return undefined;};TDV['Tour']['Script']['getCurrentPlayerWithMedia']=function(cz){var cA=undefined;var cB=undefined;switch(cz['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':cA='PanoramaPlayer';cB='panorama';break;case'Video360':cA='PanoramaPlayer';cB='video';break;case'PhotoAlbum':cA='PhotoAlbumPlayer';cB='photoAlbum';break;case'Map':cA='MapPlayer';cB='map';break;case'Video':cA='VideoPlayer';cB='video';break;};if(cA!=undefined){var cC=this['getByClassName'](cA);for(var cD=0x0;cD<cC['length'];++cD){var cE=cC[cD];if(cE['get'](cB)==cz){return cE;}}}else{return undefined;}};TDV['Tour']['Script']['getCurrentPlayers']=function(){var cF=this['getByClassName']('PanoramaPlayer');cF=cF['concat'](this['getByClassName']('VideoPlayer'));cF=cF['concat'](this['getByClassName']('Video360Player'));cF=cF['concat'](this['getByClassName']('PhotoAlbumPlayer'));cF=cF['concat'](this['getByClassName']('MapPlayer'));return cF;};TDV['Tour']['Script']['getGlobalAudio']=function(cG){var cH=window['currentGlobalAudios'];if(cH!=undefined&&cG['get']('id')in cH){cG=cH[cG['get']('id')]['audio'];}return cG;};TDV['Tour']['Script']['getMediaByName']=function(cI){var cJ=this['getByClassName']('Media');for(var cK=0x0,cL=cJ['length'];cK<cL;++cK){var cM=cJ[cK];var cN=cM['get']('data');if(cN&&cN['label']==cI){return cM;}}return undefined;};TDV['Tour']['Script']['getComponentByName']=function(cO){var cP=this['getByClassName']('UIComponent');for(var cQ=0x0,cR=cP['length'];cQ<cR;++cQ){var cS=cP[cQ];var cT=cS['get']('data');if(cT!=undefined&&cT['name']==cO){return cS;}}return undefined;};TDV['Tour']['Script']['getMediaFromPlayer']=function(cU){switch(cU['get']('class')){case'PanoramaPlayer':return cU['get']('panorama')||cU['get']('video');case'VideoPlayer':case'Video360Player':return cU['get']('video');case'PhotoAlbumPlayer':return cU['get']('photoAlbum');case'MapPlayer':return cU['get']('map');}};TDV['Tour']['Script']['getMediaWidth']=function(cV){switch(cV['get']('class')){case'Video360':var cW=cV['get']('video');if(cW instanceof Array){var cX=0x0;for(var cY=0x0;cY<cW['length'];cY++){var cZ=cW[cY];if(cZ['get']('width')>cX)cX=cZ['get']('width');}return cX;}else{return cZ['get']('width');}default:return cV['get']('width');}};TDV['Tour']['Script']['getMediaHeight']=function(d0){switch(d0['get']('class')){case'Video360':var d1=d0['get']('video');if(d1 instanceof Array){var d2=0x0;for(var d3=0x0;d3<d1['length'];d3++){var d4=d1[d3];if(d4['get']('height')>d2)d2=d4['get']('height');}return d2;}else{return d4['get']('height');}default:return d0['get']('height');}};TDV['Tour']['Script']['getOverlays']=function(d5){switch(d5['get']('class')){case'LivePanorama':case'HDRPanorama':case'Panorama':var d6=d5['get']('overlays')['concat']()||[];var d7=d5['get']('frames');for(var d8=0x0;d8<d7['length'];++d8){d6=d6['concat'](d7[d8]['get']('overlays')||[]);}return d6;case'Video360':case'Map':return d5['get']('overlays')||[];default:return[];}};TDV['Tour']['Script']['getPanoramaOverlayByName']=function(d9,da){var db=this['getOverlays'](d9);for(var dc=0x0,dd=db['length'];dc<dd;++dc){var de=db[dc];var df=de['get']('data');if(df!=undefined&&df['label']==da){return de;}}return undefined;};TDV['Tour']['Script']['getPixels']=function(dg){var dh=/((\+|-)?d+(.d*)?)(px|vw|vh|vmin|vmax)?/i['exec'](dg);if(dh==undefined){return 0x0;}var di=parseFloat(dh[0x1]);var dj=dh[0x4];var dk=this['rootPlayer']['get']('actualWidth')/0x64;var dl=this['rootPlayer']['get']('actualHeight')/0x64;switch(dj){case'vw':return di*dk;case'vh':return di*dl;case'vmin':return di*Math['min'](dk,dl);case'vmax':return di*Math['max'](dk,dl);default:return di;}};TDV['Tour']['Script']['getPlayListsWithMedia']=function(dm,dn){var dp=[];var dq=this['getByClassName']('PlayList');for(var dr=0x0,ds=dq['length'];dr<ds;++dr){var dt=dq[dr];if(dn&&dt['get']('selectedIndex')==-0x1)continue;if(this['getPlayListItemByMedia'](dt,dm)!=undefined)dp['push'](dt);}return dp;};TDV['Tour']['Script']['_getPlayListsWithViewer']=function(du){var dv=this['getByClassName']('PlayList');var dw=function(dy){var dz=dy['get']('items');for(var dA=dz['length']-0x1;dA>=0x0;--dA){var dB=dz[dA];var dC=dB['get']('player');if(dC!==undefined&&dC['get']('viewerArea')==du)return!![];}return![];};for(var dx=dv['length']-0x1;dx>=0x0;--dx){if(!dw(dv[dx]))dv['splice'](dx,0x1);}return dv;};TDV['Tour']['Script']['getPlayListWithItem']=function(dD){var dE=this['getByClassName']('PlayList');for(var dF=dE['length']-0x1;dF>=0x0;--dF){var dG=dE[dF];var dH=dG['get']('items');for(var dI=dH['length']-0x1;dI>=0x0;--dI){var dJ=dH[dI];if(dJ==dD)return dG;}}return undefined;};TDV['Tour']['Script']['getFirstPlayListWithMedia']=function(dK,dL){var dM=this['getPlayListsWithMedia'](dK,dL);return dM['length']>0x0?dM[0x0]:undefined;};TDV['Tour']['Script']['getPlayListItemByMedia']=function(dN,dO){var dP=dN['get']('items');for(var dQ=0x0,dR=dP['length'];dQ<dR;++dQ){var dS=dP[dQ];if(dS['get']('media')==dO)return dS;}return undefined;};TDV['Tour']['Script']['getPlayListItems']=function(dT,dU){var dV=function(){switch(dT['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':return'PanoramaPlayListItem';case'Video360':return'Video360PlayListItem';case'PhotoAlbum':return'PhotoAlbumPlayListItem';case'Map':return'MapPlayListItem';case'Video':return'VideoPlayListItem';}}();if(dV!=undefined){var dW=this['getByClassName'](dV);for(var dX=dW['length']-0x1;dX>=0x0;--dX){var dY=dW[dX];if(dY['get']('media')!=dT||dU!=undefined&&dY['get']('player')!=dU){dW['splice'](dX,0x1);}}return dW;}else{return[];}};TDV['Tour']['Script']['historyGoBack']=function(dZ){var e0=this['get']('data')['history'][dZ['get']('id')];if(e0!=undefined){e0['back']();}};TDV['Tour']['Script']['historyGoForward']=function(e1){var e2=this['get']('data')['history'][e1['get']('id')];if(e2!=undefined){e2['forward']();}};TDV['Tour']['Script']['init']=function(){var e3=this['get']('data')['history'];var e4=function(e9){var ea=e9['source'];var eb=ea['get']('selectedIndex');if(eb<0x0)return;var ec=ea['get']('id');if(!e3['hasOwnProperty'](ec))e3[ec]=new TDV['Tour']['HistoryData'](ea);e3[ec]['add'](eb);};var e5=this['getByClassName']('PlayList');for(var e6=0x0,e7=e5['length'];e6<e7;++e6){var e8=e5[e6];e8['bind']('change',e4,this);}};TDV['Tour']['Script']['initGA']=function(){var ed=function(eD,eE,eF){ga('send','event',eD,eE,eF);};var ef=this['getByClassName']('Panorama');ef=ef['concat'](this['getByClassName']('Video360'));ef=ef['concat'](this['getByClassName']('Map'));for(var ei=0x0,el=ef['length'];ei<el;++ei){var em=ef[ei];var eo=em['get']('data');var ep=eo?eo['label']:undefined;var eq=this['getOverlays'](em);for(var er=0x0,es=eq['length'];er<es;++er){var et=eq[er];var eu=et['get']('data')!=undefined?ep+'\x20-\x20'+et['get']('data')['label']:ep;switch(et['get']('class')){case'FlatHotspotPanoramaOverlay':case'HotspotPanoramaOverlay':case'HotspotMapOverlay':var ev=et['get']('areas');for(var ew=0x0;ew<ev['length'];++ew){ev[ew]['bind']('click',ed['bind'](this,'Hotspot','click',eu),this);}break;case'CeilingCapPanoramaOverlay':case'TripodCapPanoramaOverlay':et['bind']('click',ed['bind'](this,'Cap','click',eu),this);break;case'VideoPanoramaOverlay':et['bind']('click',ed['bind'](this,'Hotspot','click',eu));et['bind']('start',ed['bind'](this,'Hotspot','start',eu));break;}}}var ex=this['getByClassName']('Button');ex=ex['concat'](this['getByClassName']('IconButton'));for(var ei=0x0,el=ex['length'];ei<el;++ei){var ey=ex[ei];var ez=ey['get']('data')['name'];ey['bind']('click',ed['bind'](this,'Skin','click',ez),this);}var eA=this['getByClassName']('PlayListItem');var eB={};for(var ei=0x0,el=eA['length'];ei<el;++ei){var eC=eA[ei];var ef=eC['get']('media');if(!(ef['get']('id')in eB)){var eo=ef['get']('data');eC['bind']('begin',ed['bind'](this,'Media','play',eo?eo['label']:undefined),this);eB[ef['get']('id')]=eC;}}};TDV['Tour']['Script']['initQuiz']=function(eG,eH){var eI={'question':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.2},'window':{'width':'60%','height':'60%','backgroundColor':'#ffffff','backgroundOpacity':0.9,'borderRadius':0x5,'horizontalAlign':'center','minWidth':0x1f4,'paddingBottom':0x14,'paddingLeft':0x14,'paddingRight':0x14,'paddingTop':0x14,'shadowBlurRadius':0x4,'shadow':!![],'shadowColor':'#000000','shadowOpacity':0.3,'shadowHorizontalLength':0x0,'shadowVerticalLength':0x0,'shadowSpread':0x4,'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'600','paddingLeft':0x32,'paddingRight':0x32,'paddingBottom':0x28,'paddingTop':0x19,'textAlign':'center'},'buttonsContainer':{'horizontalAlign':'right','verticalAlign':'bottom','button':{'backgroundColor':'#000000','backgroundOpacity':0.7,'borderRadius':0x3,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xa,'paddingBottom':0xa,'verticalAlign':'middle'}},'bodyContainer':{'width':'100%','height':'100%','gap':0x23,'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e,'paddingBottom':0x1e},'mediaContainer':{'width':'70%','height':'100%','buttonNext':{'iconURL':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAjElEQVQokbXTyRaAIAgFUJHmeTL7/y9Naie+Toti2T0R4suYH4qI0HNKGpGV0iYwuoLFlEzeu0YT2dqH2jtFZHN3UR9T6FamKQi3O6Q+STL2O4r6WR4QcTZfdIQjR6NzttxUaKk2Eb/qdql34HfgbPA8eAdwb3jXD/eD7xTnAGcH5g1n9CHXBv8Ln9UJhXMPrAhUbYMAAAAASUVORK5CYII=','width':0x19,'height':0x25},'buttonPrevious':{'iconURL':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAkElEQVQokbXSyRaDIAwFUALOQ7W2iP//pQK6CGheF55mmXuYwlPqn0VEUp/uzPd0qAuFvqnsdKEInXVuziTCsDpfraYcxgi25MKh5rsxWHvDhMMIIJWf8EpAeei2CO/CJK8kXR2w5ED6E8B9m0zkNegc8W7ye8AM5LmBWYP/AX8KcgCyA/IGMqrkXJ92239aO3W4D6yL2ECSAAAAAElFTkSuQmCC','width':0x19,'height':0x25},'viewerArea':{'playbackBarBackgroundColor':'#000000','playbackBarBackgroundOpacity':0.5,'playbackBarBorderRadius':0x0,'playbackBarBorderSize':0x0,'playbackBarBottom':0x5,'playbackBarHeight':0x6,'playbackBarLeft':0x0,'playbackBarRight':0x0,'playbackBarProgressBackgroundColor':'#3399ff','playbackBarProgressOpacity':0.5,'playbackBarHeadBackgroundColor':'#cccccc','playbackBarHeadBorderColor':'#ffffff','playbackBarHeadBorderRadius':0x7,'playbackBarHeadBorderSize':0x3,'playbackBarHeadOpacity':0x1,'playbackBarHeadWidth':0xe,'playbackBarHeadHeight':0xe,'playbackBarHeadShadow':!![],'playbackBarHeadShadowBlurRadius':0x2,'playbackBarHeadShadowColor':'#000000','playbackBarHeadShadowHorizontalLength':0x0,'playbackBarHeadShadowOpacity':0.3,'playbackBarHeadShadowSpread':0x2,'playbackBarHeadShadowVerticalLength':0x0,'backgroundColor':'#e6e6e6','backgroundOpacity':0x1}},'optionsContainer':{'gap':0xa,'width':'30%','height':'100%','overflow':'scroll','contentOpaque':!![]},'option':{'gap':0xa,'text':{'fontColor':'#404040','fontFamily':'Arial','fontSize':0x12,'paddingTop':0x9,'textAlign':'left','verticalAlign':'middle','selected':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x12,'paddingTop':0x9,'textAlign':'left'}},'label':{'borderRadius':0x13,'backgroundColor':'#000000','backgroundOpacity':0.2,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26,'correct':{'borderRadius':0x13,'backgroundColor':'#39b54a','backgroundOpacity':0x1,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26},'incorrect':{'borderRadius':0x13,'backgroundColor':'#ed1c24','backgroundOpacity':0x1,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26}}},'closeButton':{'backgroundColor':'#009FE3','height':0x2d,'iconColor':'#FFFFFF','iconLineWidth':0x2,'iconHeight':0x12,'iconWidth':0x12,'width':0x2d}}},'score':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.5},'window':{'backgroundColor':'#ffffff','horizontalAlign':'center','minWidth':0x1f4,'maxWidth':0x5dc,'paddingBottom':0x14,'paddingLeft':0x14,'paddingRight':0x14,'paddingTop':0x14,'content':{'width':'100%','horizontalAlign':'center'},'closeButton':{'backgroundColor':'#009fe3','height':0x2d,'iconColor':'#ffffff','iconLineWidth':0x2,'iconHeight':0x12,'iconWidth':0x12,'width':0x2d},'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x32,'fontWeight':'800','paddingBottom':0xf,'paddingTop':0x32,'textAlign':'center'},'description':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x10,'fontWeight':'400','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xf,'textAlign':'center'},'statsContainer':{'gap':0x14,'horizontalAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xf,'verticalAlign':'middle','overflow':'scroll','contentOpaque':!![]},'stats':{'borderColor':'#009fe3','borderSize':0x1,'borderRadius':0x4b,'gap':0x0,'height':0x96,'horizontalAlign':'center','layout':'vertical','verticalAlign':'middle','minWidth':0x96,'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'400','paddingTop':0xa,'paddingLeft':0x5,'paddingRight':0x5},'mainValue':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x28,'fontWeight':'700'},'secondaryValue':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'700'},'label':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0xf,'fontWeight':'400'}},'calification':{'fontColor':'#009fe3','fontFamily':'Arial','fontSize':0x1e,'fontWeight':'700','textAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xa,'paddingTop':0xf,'verticalAlign':'middle','width':'100%'},'timeContainer':{'gap':0x5,'horizontalAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xa,'verticalAlign':'middle','width':'100%'},'buttonsContainer':{'gap':0x8,'paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0x32,'paddingTop':0x23,'horizontalAlign':'center','verticalAlign':'middle','width':'100%','button':{'backgroundColor':'#009fe3','fontColor':'#ffffff','fontFamily':'Arial','fontSize':0xf,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xc,'paddingBottom':0xc,'verticalAlign':'middle'}}}},'timeout':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.5},'window':{'backgroundColor':'#ffffff','horizontalAlign':'center','gap':0xf,'paddingBottom':0x37,'paddingLeft':0x50,'paddingRight':0x50,'paddingTop':0x2d,'icon':{'height':0x48,'url':'data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAAUAAA/+4ADkFkb2JlAGTAAAAAAf/bAIQAAgICAgICAgICAgMCAgIDBAMCAgMEBQQEBAQEBQYFBQUFBQUGBgcHCAcHBgkJCgoJCQwMDAwMDAwMDAwMDAwMDAEDAwMFBAUJBgYJDQsJCw0PDg4ODg8PDAwMDAwPDwwMDAwMDA8MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwM/8AAEQgASAA+AwERAAIRAQMRAf/EAHQAAAICAwEBAAAAAAAAAAAAAAUGAAQCAwcBCQEBAAAAAAAAAAAAAAAAAAAAABAAAQMDAgMHAwMBCQAAAAAAAQIDBAARBSExQRITUWFxkbEiBoGhFFJiIzLB0UJygqJDYyQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/APv5QSglBydzJZHqOf8AvkD3HQOqA37AaAjhZ85zJxG3Jjzja1EKQtxSgfaeBNB0eglBKANl8w1jGwkAOylj+NnsH6ld1BliMqjKMrVydN9mweQNtb2IPfagkzOY6EShb3VdTu017j9TsPOgQspNiTHELiQxFCebnItdZPEgCgu4fKwcekfkQuo8FEplJCSoAi1he3rQO8PKQZ+kd8Fe5aV7VeR3+lAMzGeGOdTHZbDz+inea4SlJ2GnE0FtOaiLxzmRTdSWQOqyP6kqJACT4k70CtmMLkPzJEhtKpTTpU51Li6Rvym54DagAMy5Mdt1pl5TSHwA6lJte1AQx+Em5ABxCQywf+degP8AlG5oGRr4lEAHWlPLVxKAlI+4VQYP/EmSD+NLWlXAOgKHmLelArTMfNxjiesko1u0+gnlJHYrTWg0uOyp8hBcUqRIc5W0Xtc8AKAyxgskmHNWptSFrSltuMCLrPUSSTrawtQHfk88x4yIjSrOSr9Qjg2N/M0ADAYkT3i++LxY5F0/rVvy+HbQPU5yRHhuKgsB15AAaatpa4GgFthwoKj7M/IYxpIc/AmL5VOBJI23FxqL70Hs5zJRIcZMNsTZCeRD61AkmwsVWuNzQEHWW5TBZkthSXUjqNnWx7j3dtBzDJwHMZMU1clH9cd3YlPD6igcUZhxeAdnJsZLIDTncskJ5v8AcDQLPyN0u5V8HZlKG0+HKCfuTQO+GYEbGRE2sVoDiz3r92vhe1B5jse5DclurmKlJlK5kg8N+8660HuQy8THKQh7nW64LpabAKrdupAoFub8pdc/jx7Jb5tA64AVa9iRcetBcw+PmtyBkslIUhxwFCGVq9yub9V9u4UGz5VHDkJqRb3sOWv+1eh+4FArQ3iMXmI99FJZcA7CHUg+ooJnkFGWmA8VJUP9SQaB9jtonYdhrnKUPxkIKk7j2gH70GzGx2IcYQ2ZAfMckOG4JCiSbEDbwoBmShz28i1lMe0iQtLfTWys2tuLi5Hb20GWHxKo6nps1pH5r6ytKRYhsHU2toCSeFBZyUGFknWGHpPTfYJWllC0hZSbX9pueG9BW+TrCMWtJ3dcQlP0PN/ZQJURJMLLK4BlsE95eRb0oDvyuIUvMTUj2OJ6Th7FDUeY9KC38XyCVsqx7irONErY70nUj6HWgJmNDwjc7IoS64XLKcRcHdWydBxPGguNZGM5BbnuK/HYcF/5NCNbW86DVkMozAitS+QyG3lJCCg6WUL3v4CgyRAiuy2sryrTIU2OUE2Aum2o7bG1An/JsgmTJTFaVzNRb86hsVnfy2oNkeEtr41PfKTzyihYH/WhabH1NA6zIrU2O7GeF0OC1+IPAjwoOYSosvEywlRLbrZ5mXk7KHAigbcf8ljPoDOQAZdtYu2u2rx7PSgPOtQslH6JKH45sQG1aC21ik0HqnYMFlDTjrbDTSQlCFqGw20OpoFTK/JeolUfHXSFaLkkWNv2jh4mgD4fEuZJ8FQKYrZ/nc7f2jvNB0zpt9Po8g6XLydO2nLa1reFBnQVZkKNOaLMlsLT/hVspJ7QeFAlTPi0tolUNYkt8EKISseeh86AKvFZJB5TAfJ/a2pQ8wDQZtYjJunlTBeB7VpKB5qtQMEH4qolLk90BO/QbNye4q/uoHJplphtLTKA22gWShOgFBsoP//Z','width':0x3e},'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x28,'fontWeight':'800','textAlign':'center','paddingBottom':0x14},'button':{'backgroundColor':'#009fe3','fontColor':'#ffffff','fontFamily':'Arial','fontSize':0xf,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xc,'paddingBottom':0xc,'verticalAlign':'middle'},'buttonsContainer':{'horizontalAlign':'center','width':'100%','gap':0xa}}}};eG['theme']='theme'in eG?this['mixObject'](eI,eG['theme']):eI;if(eG['player']['get']('isMobile')){var eJ=this['mixObject'](eG['theme'],{'question':{'window':{'width':'100%','height':'100%','minWidth':undefined,'backgroundOpacity':0x1,'borderRadius':0x0,'paddingLeft':0x0,'paddingRight':0x0,'paddingBottom':0x0,'paddingTop':0x0,'verticalAlign':'middle','title':{'paddingBottom':0x19,'paddingTop':0x19},'bodyContainer':{'layout':'vertical','horizontalAlign':'center','paddingLeft':0x0,'paddingRight':0x0,'gap':0x14},'mediaContainer':{'width':'100%','height':'45%'},'optionsContainer':{'width':'100%','height':'55%','paddingLeft':0x14,'paddingRight':0x14}}}});eG['theme']=eJ;}var eK=this['get']('data');var eL=document['getElementById']('metaViewport');var eM=eL?/initial-scale=(\d+(\.\d+)?)/['exec'](eL['getAttribute']('content')):undefined;var eN=eM?eM[0x1]:0x1;eK['scorePortraitConfig']={'theme':{'window':{'minWidth':0xfa/eN,'maxHeight':0x258/eN,'content':{'height':'100%'},'statsContainer':{'layout':'vertical','horizontalAlign':'center','maxHeight':0x258,'paddingLeft':0x0,'paddingRight':0x0,'width':'100%','height':'100%'}}}};var eO=new TDV['Quiz'](eG);eO['setMaxListeners'](0x32);eO['bind'](TDV['Quiz']['EVENT_PROPERTIES_CHANGE'],function(){if((eO['get'](TDV['Quiz']['PROPERTY']['QUESTIONS_ANSWERED'])+eO['get'](TDV['Quiz']['PROPERTY']['ITEMS_FOUND']))/(eO['get'](TDV['Quiz']['PROPERTY']['QUESTION_COUNT'])+eO['get'](TDV['Quiz']['PROPERTY']['ITEM_COUNT']))==0x1)eO['finish']();}['bind'](this));if(eH===!![])eO['start']();eK['quiz']=eO;};TDV['Tour']['Script']['isCardboardViewMode']=function(){var eP=this['getByClassName']('PanoramaPlayer');return eP['length']>0x0&&eP[0x0]['get']('viewMode')=='cardboard';};TDV['Tour']['Script']['keepCompVisible']=function(eQ,eR){var eS='keepVisibility_'+eQ['get']('id');var eT=this['getKey'](eS);if(eT==undefined&&eR){this['registerKey'](eS,eR);}else if(eT!=undefined&&!eR){this['unregisterKey'](eS);}};TDV['Tour']['Script']['_initItemWithComps']=function(eU,eV,eW,eX,eY,eZ,f0,f1){var f2=eU['get']('items')[eV];var f3=f2['get']('media');var f4=f3['get']('loop')==undefined||f3['get']('loop');var f5=f1>0x0;var f6=this['rootPlayer'];var f7=function(ff){var fg=eZ?eZ['get']('class'):undefined;var fh=undefined;switch(fg){case'FadeInEffect':case'FadeOutEffect':fh=f6['createInstance'](ff?'FadeInEffect':'FadeOutEffect');break;case'SlideInEffect':case'SlideOutEffect':fh=f6['createInstance'](ff?'SlideInEffect':'SlideOutEffect');break;}if(fh){fh['set']('duration',eZ['get']('duration'));fh['set']('easing',eZ['get']('easing'));if(fg['indexOf']('Slide')!=-0x1)fh['set'](ff?'from':'to',eZ['get'](eZ['get']('class')=='SlideInEffect'?'from':'to'));}return fh;};var f8=function(){for(var fi=0x0,fj=eW['length'];fi<fj;++fi){var fk=eW[fi];if(f1>0x0){this['setComponentVisibility'](fk,!eY,0x0,f7(!eY));}else{var fl='visibility_'+fk['get']('id');if(this['existsKey'](fl)){if(this['getKey'](fl))this['setComponentVisibility'](fk,!![],0x0,f7(!![]));else this['setComponentVisibility'](fk,![],0x0,f7(![]));this['unregisterKey'](fl);}}}f2['unbind']('end',f8,this);if(!f4)f3['unbind']('end',f8,this);};var f9=function(){f2['unbind']('stop',f9,this,!![]);f2['unbind']('stop',f9,this);f2['unbind']('begin',f9,this,!![]);f2['unbind']('begin',f9,this);for(var fm=0x0,fn=eW['length'];fm<fn;++fm){this['keepCompVisible'](eW[fm],![]);}};var fa=function(fo,fp,fq){var fr=function(){var fs=function(fw,fx,fy){f6['setComponentVisibility'](fw,fx,fp,fy,fx?'showEffect':'hideEffect',![]);if(fq>0x0){var fz=fp+fq+(fy!=undefined?fy['get']('duration'):0x0);f6['setComponentVisibility'](fw,!fx,fz,f7(!fx),fx?'hideEffect':'showEffect',!![]);}};for(var ft=0x0,fu=eW['length'];ft<fu;++ft){var fv=eW[ft];if(eY=='toggle'){if(!fv['get']('visible'))fs(fv,!![],f7(!![]));else fs(fv,![],f7(![]));}else{fs(fv,eY,f7(eY));}}f2['unbind'](fo,fr,this);if(fo=='end'&&!f4)f3['unbind'](fo,fr,this);};f2['bind'](fo,fr,this);if(fo=='end'&&!f4)f3['bind'](fo,fr,this);};if(eX=='begin'){for(var fb=0x0,fc=eW['length'];fb<fc;++fb){var fd=eW[fb];this['keepCompVisible'](fd,!![]);if(f5){var fe='visibility_'+fd['get']('id');this['registerKey'](fe,fd['get']('visible'));}}f2['bind']('stop',f9,this,!![]);f2['bind']('stop',f9,this);f2['bind']('begin',f9,this,!![]);f2['bind']('begin',f9,this);if(f5){f2['bind']('end',f8,this);if(!f4)f3['bind']('end',f8,this);}}else if(eX=='end'&&f1>0x0){fa('begin',f1,0x0);f1=0x0;}if(eX!=undefined)fa(eX,f0,f1);};TDV['Tour']['Script']['loadFromCurrentMediaPlayList']=function(fA,fB){var fC=fA['get']('selectedIndex');var fD=fA['get']('items')['length'];var fE=(fC+fB)%fD;while(fE<0x0){fE=fD+fE;}if(fC!=fE){fA['set']('selectedIndex',fE);}};TDV['Tour']['Script']['mixObject']=function(fF,fG){return this['assignObjRecursively'](fG,this['copyObjRecursively'](fF));};TDV['Tour']['Script']['openLink']=function(fH,fI){if(!fH||fH==location['href']){return;}var fJ=window&&window['process']&&window['process']['versions']&&window['process']['versions']['electron']||navigator&&navigator['userAgent']&&navigator['userAgent']['indexOf']('Electron')>=0x0;if(fI=='_blank'&&fJ){if(fH['startsWith']('/')){var fK=window['location']['href']['split']('/');fK['pop']();fH=fK['join']('/')+fH;}var fL=fH['split']('.')['pop']()['toLowerCase']();if(fL!='pdf'||fH['startsWith']('file://')){var fM=window['require']('electron')['shell'];fM['openExternal'](fH);}else{window['open'](fH,fI);}}else if(fJ&&(fI=='_top'||fI=='_self')){window['location']=fH;}else{var fN=window['open'](fH,fI);fN['focus']();}};TDV['Tour']['Script']['pauseCurrentPlayers']=function(fO){var fP=this['getCurrentPlayers']();var fQ=fP['length'];while(fQ-->0x0){var fR=fP[fQ];if(fR['get']('state')=='playing'||fR['get']('viewerArea')&&fR['get']('viewerArea')['get']('id')==this['MainViewer']){var fS=this['getMediaFromPlayer'](fR);if(fO&&fS['get']('class')!='Video360'&&'pauseCamera'in fR){fR['pauseCamera']();}else{fR['pause']();}}else{fP['splice'](fQ,0x1);}}return fP;};TDV['Tour']['Script']['pauseGlobalAudiosWhilePlayItem']=function(fT,fU,fV){var fW=this;var fX=fT['get']('items')[fU];var fY=fX['get']('media');var fZ=fX['get']('player');var g0=fY['get']('id');var g1=function(){if(fT['get']('selectedIndex')!=fU){if(g4){fZ['unbind']('stateChange',g2,fW);}fW['resumeGlobalAudios'](g0);}};var g2=function(g5){var g6=g5['data']['state'];if(g6=='stopped'){this['resumeGlobalAudios'](g0);}else if(g6=='playing'){this['pauseGlobalAudios'](g0,fV);}};var g3=fY['get']('class');var g4=g3=='Video360'||g3=='Video';if(g4){fZ['bind']('stateChange',g2,this);}this['pauseGlobalAudios'](g0,fV);this['executeFunctionWhenChange'](fT,fU,g1,g1);};TDV['Tour']['Script']['pauseGlobalAudios']=function(g7,g8){if(window['pauseGlobalAudiosState']==undefined)window['pauseGlobalAudiosState']={};if(window['pauseGlobalAudiosList']==undefined)window['pauseGlobalAudiosList']=[];if(g7 in window['pauseGlobalAudiosState']){return;}var g9=this['getByClassName']('Audio')['concat'](this['getByClassName']('VideoPanoramaOverlay'));if(window['currentGlobalAudios']!=undefined)g9=g9['concat'](Object['values'](window['currentGlobalAudios'])['map'](function(gl){return gl['audio'];}));var ga=[];var gb=Object['values'](window['pauseGlobalAudiosState']);for(var gd=0x0,gf=gb['length'];gd<gf;++gd){var gg=gb[gd];for(var gh=0x0;gh<gg['length'];++gh){var gj=gg[gh];if(ga['indexOf'](gj)==-0x1)ga['push'](gj);}}window['pauseGlobalAudiosState'][g7]=ga;var gk=window['currentGlobalAudios']||{};for(var gd=0x0,gf=g9['length'];gd<gf;++gd){var gj=g9[gd];if(gj['get']('state')=='playing'&&(g8==undefined||g8['indexOf'](gj)==-0x1)){if(gj['get']('id')in gk&&!gk[gj['get']('id')]['asBackground']){this['stopGlobalAudio'](gj);}else{gj['pause']();ga['push'](gj);}}}};TDV['Tour']['Script']['pauseGlobalAudio']=function(gm){var gn=window['currentGlobalAudios'];if(gn){var go=gn[gm['get']('id')];if(go)gm=go['audio'];}if(gm['get']('state')=='playing')gm['pause']();};TDV['Tour']['Script']['playAudioList']=function(gp,gq){if(gp['length']==0x0)return;var gr=-0x1;var gs;var gt=this['playGlobalAudio'];var gu=function(){if(++gr>=gp['length']){if(!gq)return;gr=0x0;}gs=gp[gr];gt(gs,gu,!![]);};gu();};TDV['Tour']['Script']['playGlobalAudioWhilePlay']=function(gv,gw,gx,gy,gz){var gA=function(gM){if(gM['data']['previousSelectedIndex']==gw){this['stopGlobalAudio'](gx);if(gE){var gN=gD['get']('media');var gO=gN['get']('audios');gO['splice'](gO['indexOf'](gx),0x1);gN['set']('audios',gO);}gv['unbind']('change',gA,this);if(gy)gy();}};var gC=window['currentGlobalAudios'];if(gC&&gx['get']('id')in gC){gx=gC[gx['get']('id')]['audio'];if(gx['get']('state')!='playing'){gx['play']();}return gx;}gv['bind']('change',gA,this);var gD=gv['get']('items')[gw];var gE=gD['get']('class')=='PanoramaPlayListItem';if(gE){var gF=gD['get']('media');var gC=(gF['get']('audios')||[])['slice']();if(gx['get']('class')=='MediaAudio'){var gG=this['rootPlayer']['createInstance']('PanoramaAudio');gG['set']('autoplay',![]);gG['set']('audio',gx['get']('audio'));gG['set']('loop',gx['get']('loop'));gG['set']('id',gx['get']('id'));var gH=gx['getBindings']('stateChange');for(var gI=0x0;gI<gH['length'];++gI){var gJ=gH[gI];if(typeof gJ=='string')gJ=new Function('event',gJ);gG['bind']('stateChange',gJ,this);}gx=gG;}gC['push'](gx);gF['set']('audios',gC);}var gK=this['playGlobalAudio'](gx,gy);if(gz===!![]){var gL=function(){if(gK['get']('state')=='playing'){this['pauseGlobalAudios'](gK['get']('id'),[gK]);}else{this['resumeGlobalAudios'](gK['get']('id'));gK['unbind']('stateChange',gL,this);}};gK['bind']('stateChange',gL,this);}return gK;};TDV['Tour']['Script']['playGlobalAudio']=function(gP,gQ,gR){var gS=function(){gP['unbind']('end',gS,this);this['stopGlobalAudio'](gP);if(gQ)gQ['call'](this);};gP=this['getGlobalAudio'](gP);var gT=window['currentGlobalAudios'];if(!gT){gT=window['currentGlobalAudios']={};}gT[gP['get']('id')]={'audio':gP,'asBackground':gR||![]};if(gP['get']('state')=='playing'){return gP;}if(!gP['get']('loop')){gP['bind']('end',gS,this);}gP['play']();return gP;};TDV['Tour']['Script']['resumeGlobalAudios']=function(gU){if(window['pauseGlobalAudiosState']==undefined||!(gU in window['pauseGlobalAudiosState']))return;var gV=window['pauseGlobalAudiosState'][gU];delete window['pauseGlobalAudiosState'][gU];var gW=Object['values'](window['pauseGlobalAudiosState']);for(var gY=0x0,h0=gW['length'];gY<h0;++gY){var h1=gW[gY];for(var h2=gV['length']-0x1;h2>=0x0;--h2){var h4=gV[h2];if(h1['indexOf'](h4)!=-0x1)gV['splice'](h2,0x1);}}for(var gY=0x0,h0=gV['length'];gY<h0;++gY){var h4=gV[gY];if(h4['get']('state')=='paused')h4['play']();}};TDV['Tour']['Script']['resumePlayers']=function(h5,h6){for(var h7=0x0;h7<h5['length'];++h7){var h8=h5[h7];var h9=this['getMediaFromPlayer'](h8);if(!h9)continue;if(h6&&h9['get']('class')!='Video360'&&'pauseCamera'in h8){h8['resumeCamera']();}else{h8['play']();}}};TDV['Tour']['Script']['stopGlobalAudios']=function(ha){var hb=window['currentGlobalAudios'];var hc=this;if(hb){Object['keys'](hb)['forEach'](function(hd){var he=hb[hd];if(!ha||ha&&!he['asBackground']){hc['stopGlobalAudio'](he['audio']);}});}};TDV['Tour']['Script']['stopGlobalAudio']=function(hf){var hg=window['currentGlobalAudios'];if(hg){var hh=hg[hf['get']('id')];if(hh){hf=hh['audio'];delete hg[hf['get']('id')];if(Object['keys'](hg)['length']==0x0){window['currentGlobalAudios']=undefined;}}}if(hf)hf['stop']();};TDV['Tour']['Script']['setCameraSameSpotAsMedia']=function(hi,hj){var hk=this['getCurrentPlayerWithMedia'](hj);if(hk!=undefined){var hl=hi['get']('initialPosition');hl['set']('yaw',hk['get']('yaw'));hl['set']('pitch',hk['get']('pitch'));hl['set']('hfov',hk['get']('hfov'));}};TDV['Tour']['Script']['setComponentVisibility']=function(hm,hn,ho,hp,hq,hr){var hs=this['getKey']('keepVisibility_'+hm['get']('id'));if(hs)return;this['unregisterKey']('visibility_'+hm['get']('id'));var ht=function(){if(hp&&hq){hm['set'](hq,hp);}hm['set']('visible',hn);if(hm['get']('class')=='ViewerArea'){try{if(hn)hm['restart']();else if(hm['get']('playbackState')=='playing')hm['pause']();}catch(hy){};}};var hu='effectTimeout_'+hm['get']('id');if(!hr&&window['hasOwnProperty'](hu)){var hw=window[hu];if(hw instanceof Array){for(var hx=0x0;hx<hw['length'];hx++){clearTimeout(hw[hx]);}}else{clearTimeout(hw);}delete window[hu];}else if(hn==hm['get']('visible')&&!hr)return;if(ho&&ho>0x0){var hw=setTimeout(function(){if(window[hu]instanceof Array){var hz=window[hu];var hA=hz['indexOf'](hw);hz['splice'](hA,0x1);if(hz['length']==0x0){delete window[hu];}}else{delete window[hu];}ht();},ho);if(window['hasOwnProperty'](hu)){window[hu]=[window[hu],hw];}else{window[hu]=hw;}}else{ht();}};TDV['Tour']['Script']['setLocale']=function(hB){this['get']('data')['localeManager']['setLocale'](hB);};TDV['Tour']['Script']['setEndToItemIndex']=function(hC,hD,hE){var hF=function(){if(hC['get']('selectedIndex')==hD){var hG=hC['get']('items')[hE];var hH=hG['get']('player');if(hH){var hI=hH['get']('viewerArea');if(hI&&hI['get']('translationTransitionEnabled')==!![]){var hJ=function(hK){var hL=hK['source'];hL['unbind']('begin',hJ,this);hI['set']('translationTransitionEnabled',!![]);};hI['set']('translationTransitionEnabled',![]);hG['bind']('begin',hJ,this);}}hC['set']('selectedIndex',hE);}};this['executeFunctionWhenChange'](hC,hD,hF);};TDV['Tour']['Script']['setMapLocation']=function(hM,hN){var hO=function(){hM['unbind']('stop',hO,this);hP['set']('mapPlayer',null);};hM['bind']('stop',hO,this);var hP=hM['get']('player');hP['set']('mapPlayer',hN);};TDV['Tour']['Script']['setMainMediaByIndex']=function(hQ){var hR=undefined;if(hQ>=0x0&&hQ<this['mainPlayList']['get']('items')['length']){this['mainPlayList']['set']('selectedIndex',hQ);hR=this['mainPlayList']['get']('items')[hQ];}return hR;};TDV['Tour']['Script']['setMainMediaByName']=function(hS){var hT=this['_getPlayListsWithViewer'](this['MainViewer']);for(var hU=0x0,hV=hT['length'];hU<hV;++hU){var hW=hT[hU];var hX=hW['get']('items');for(var hY=0x0,hZ=hX['length'];hY<hZ;++hY){var i0=hX[hY];var i1=i0['get']('media')['get']('data');if(i1!==undefined&&i1['label']==hS&&i0['get']('player')['get']('viewerArea')==this['MainViewer']){hW['set']('selectedIndex',hY);return i0;}}}};TDV['Tour']['Script']['setMediaBehaviour']=function(i2,i3,i4){var i5=this;var i6=function(iv){if(iv['data']['state']=='stopped'){ia['call'](this,!![]);}};var i7=function(){ih['unbind']('begin',i7,i5);var iw=ih['get']('media');if(iw['get']('class')!='Panorama'||iw['get']('camera')!=undefined&&iw['get']('camera')['get']('initialSequence')!=undefined){ii['bind']('stateChange',i6,i5);}};var i8=function(){var ix=id['get']('selectedIndex');if(ix!=-0x1){ig=ix;ia['call'](this,![]);}};var i9=function(){ia['call'](this,![]);};var ia=function(iy){if(!id)return;var iz=ih['get']('media');if((iz['get']('class')=='Video360'||iz['get']('class')=='Video')&&iz['get']('loop')==!![]&&!iy)return;i2['set']('selectedIndex',-0x1);if(iq&&ip!=-0x1){if(iq){if(ip>0x0&&iq['get']('movements')[ip-0x1]['get']('class')=='TargetPanoramaCameraMovement'){var iA=ir['get']('initialPosition');var iB=iA['get']('yaw');var iC=iA['get']('pitch');var iD=iA['get']('hfov');var iE=iq['get']('movements')[ip-0x1];iA['set']('yaw',iE['get']('targetYaw'));iA['set']('pitch',iE['get']('targetPitch'));iA['set']('hfov',iE['get']('targetHfov'));var iF=function(iI){iA['set']('yaw',iB);iA['set']('pitch',iC);iA['set']('hfov',iD);ik['unbind']('end',iF,this);};ik['bind']('end',iF,this);}iq['set']('movementIndex',ip);}}if(ii){ih['unbind']('begin',i7,this);ii['unbind']('stateChange',i6,this);for(var iG=0x0;iG<is['length'];++iG){is[iG]['unbind']('click',i9,this);}}if(io){var iH=this['getMediaFromPlayer'](ii);if(iH==undefined||iH==ih['get']('media')){id['set']('selectedIndex',ig);}if(i2!=id)id['unbind']('change',i8,this);}else{il['set']('visible',im);}id=undefined;};if(!i4){var ib=i2['get']('selectedIndex');var ic=ib!=-0x1?i2['get']('items')[i2['get']('selectedIndex')]['get']('player'):this['getActivePlayerWithViewer'](this['MainViewer']);if(ic){i4=this['getMediaFromPlayer'](ic);}}var id=undefined;if(i4){var ie=this['getPlayListsWithMedia'](i4,!![]);id=ie['indexOf'](i2)!=-0x1?i2:ie['length']>0x0?ie[0x0]:undefined;}if(!id){i2['set']('selectedIndex',i3);return;}var ig=id['get']('selectedIndex');var ih=i2['get']('items')[i3];var ii=ih['get']('player');var ij=this['getMediaFromPlayer'](ii);if(i2['get']('selectedIndex')==i3&&ij==ih['get']('media')||ig==-0x1){return;}if(i2['get']('selectedIndex')==i3&&ij!=ih['get']('media'))i2['set']('selectedIndex',-0x1);var ik=id['get']('items')[ig];var il=ii['get']('viewerArea');var im=il['get']('visible');var io=il==ik['get']('player')['get']('viewerArea');if(io){if(i2!=id){id['set']('selectedIndex',-0x1);id['bind']('change',i8,this);}}else{il['set']('visible',!![]);}var ip=-0x1;var iq=undefined;var ir=ik['get']('camera');if(ir){iq=ir['get']('initialSequence');if(iq){ip=iq['get']('movementIndex');}}i2['set']('selectedIndex',i3);var is=[];var it=function(iJ){var iK=ii['get'](iJ);if(iK==undefined)return;if(Array['isArray'](iK))is=is['concat'](iK);else is['push'](iK);};it('buttonStop');for(var iu=0x0;iu<is['length'];++iu){is[iu]['bind']('click',i9,this);}ih['bind']('begin',i7,i5);this['executeFunctionWhenChange'](i2,i3,i9);};TDV['Tour']['Script']['setOverlayBehaviour']=function(iL,iM,iN,iO){var iP=function(){switch(iN){case'triggerClick':this['triggerOverlay'](iL,'click');break;case'stop':case'play':case'pause':iL[iN]();break;case'togglePlayPause':case'togglePlayStop':if(iL['get']('state')=='playing')iL[iN=='togglePlayPause'?'pause':'stop']();else iL['play']();break;}if(iO){if(window['overlaysDispatched']==undefined)window['overlaysDispatched']={};var iT=iL['get']('id');window['overlaysDispatched'][iT]=!![];setTimeout(function(){delete window['overlaysDispatched'][iT];},0x3e8);}};if(iO&&window['overlaysDispatched']!=undefined&&iL['get']('id')in window['overlaysDispatched'])return;var iQ=this['getFirstPlayListWithMedia'](iM,!![]);if(iQ!=undefined){var iR=this['getPlayListItemByMedia'](iQ,iM);if(iQ['get']('items')['indexOf'](iR)!=iQ['get']('selectedIndex')){var iS=function(iU){iR['unbind']('begin',iS,this);iP['call'](this);};iR['bind']('begin',iS,this);return;}}iP['call'](this);};TDV['Tour']['Script']['setPanoramaCameraWithCurrentSpot']=function(iV){var iW=this['getActiveMediaWithViewer'](this['MainViewer']);if(iW!=undefined&&(iW['get']('class')['indexOf']('Panorama')!=-0x1||iW['get']('class')=='Video360')){var iX=iV['get']('media');var iY=this['cloneCamera'](iV['get']('camera'));this['setCameraSameSpotAsMedia'](iY,iW);this['startPanoramaWithCamera'](iX,iY);}};TDV['Tour']['Script']['setPanoramaCameraWithSpot']=function(iZ,j0,j1,j2){var j3=iZ['get']('selectedIndex');var j4=iZ['get']('items');if(j4[j3]==j0){var j5=j0['get']('player');j5['moveTo'](j1,j2,j5['get']('roll'),j5['get']('hfov'));}else{var j6=j0['get']('media');var j7=this['cloneCamera'](j0['get']('camera'));var j8=j7['get']('initialPosition');j8['set']('yaw',j1);j8['set']('pitch',j2);this['startPanoramaWithCamera'](j6,j7);}};TDV['Tour']['Script']['setValue']=function(j9,ja,jb){if('set'in j9)j9['set'](ja,jb);else j9[ja]=jb;};TDV['Tour']['Script']['setStartTimeVideo']=function(jc,jd){var je=this['getPlayListItems'](jc);var jf=[];var jg=function(){for(var jk=0x0;jk<je['length'];++jk){var jl=je[jk];jl['set']('startTime',jf[jk]);jl['unbind']('stop',jg,this);}};for(var jh=0x0;jh<je['length'];++jh){var ji=je[jh];var jj=ji['get']('player');if(jj['get']('video')==jc&&jj['get']('state')=='playing'){jj['seek'](jd);}else{jf['push'](ji['get']('startTime'));ji['set']('startTime',jd);ji['bind']('stop',jg,this);}}};TDV['Tour']['Script']['setStartTimeVideoSync']=function(jm,jn){this['setStartTimeVideo'](jm,jn['get']('currentTime'));};TDV['Tour']['Script']['shareSocial']=function(jo,jp,jq,jr){if(jq){this['updateDeepLink']();}if(jp==undefined){jp=jq?location['href']:location['href']['split'](location['search']||location['hash']||/[?#]/)[0x0];}else if(jq){jp+=location['hash'];}jp=function(jt){switch(jt){case'fb':var ju=jp['indexOf']('?')!=-0x1;jp=jp['replace']('#','?');if(ju){var jv=jp['lastIndexOf']('?');jp=jp['substring'](0x0,jv)+'&'+jp['substring'](jv+0x1);}return'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(jp);case'li':return'https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(jp);case'pt':return'https://pinterest.com/pin/create/button/?url='+jp;case'tw':return'https://twitter.com/intent/tweet?source=webclient&url='+jp;case'wa':return'https://api.whatsapp.com/send/?text='+encodeURIComponent(jp);default:return undefined;}}(jo);if(jr){for(var js in jr){jp+='&'+js+'='+jr[js];}}this['openLink'](jp,'_blank');};TDV['Tour']['Script']['showComponentsWhileMouseOver']=function(jw,jx,jy){var jz=function(jD){for(var jE=0x0,jF=jx['length'];jE<jF;jE++){var jG=jx[jE];if(jG['get']('class')=='HTMLText'&&(jG['get']('html')==''||jG['get']('html')==undefined)){continue;}jG['set']('visible',jD);}};if(this['rootPlayer']['get']('touchDevice')==!![]){jz(!![]);}else{var jA=-0x1;var jB=function(){jz(!![]);if(jA>=0x0)clearTimeout(jA);jw['unbind']('rollOver',jB,this);jw['bind']('rollOut',jC,this);};var jC=function(){var jH=function(){jz(![]);jw['unbind']('rollOver',jB,this);};jw['unbind']('rollOut',jC,this);jw['bind']('rollOver',jB,this);jA=setTimeout(jH,jy);};jw['bind']('rollOver',jB,this);}};TDV['Tour']['Script']['showPopupMedia']=function(jI,jJ,jK,jL,jM,jN,jO){var jP=this;var jQ=function(){jK['set']('selectedIndex',-0x1);jP['MainViewer']['set']('toolTipEnabled',!![]);if(jO){jP['resumeGlobalAudios']();}this['resumePlayers'](jV,!jO);if(jU){this['unbind']('resize',jS,this);}jI['unbind']('close',jQ,this);};var jR=function(){jI['hide']();};var jS=function(){var jW=function(kd){return jI['get'](kd)||0x0;};var jX=jP['get']('actualWidth');var jY=jP['get']('actualHeight');var jZ=jP['getMediaWidth'](jJ);var k0=jP['getMediaHeight'](jJ);var k1=parseFloat(jL)/0x64;var k2=parseFloat(jM)/0x64;var k3=k1*jX;var k4=k2*jY;var k5=jW('footerHeight');var k6=jW('headerHeight');if(!k6){var k7=jW('closeButtonIconHeight')+jW('closeButtonPaddingTop')+jW('closeButtonPaddingBottom');var k8=jP['getPixels'](jW('titleFontSize'))+jW('titlePaddingTop')+jW('titlePaddingBottom');k6=k7>k8?k7:k8;k6+=jW('headerPaddingTop')+jW('headerPaddingBottom');}var k9=k3-jW('bodyPaddingLeft')-jW('bodyPaddingRight')-jW('paddingLeft')-jW('paddingRight');var ka=k4-k6-k5-jW('bodyPaddingTop')-jW('bodyPaddingBottom')-jW('paddingTop')-jW('paddingBottom');var kb=k9/ka;var kc=jZ/k0;if(kb>kc){k3=ka*kc+jW('bodyPaddingLeft')+jW('bodyPaddingRight')+jW('paddingLeft')+jW('paddingRight');}else{k4=k9/kc+k6+k5+jW('bodyPaddingTop')+jW('bodyPaddingBottom')+jW('paddingTop')+jW('paddingBottom');}if(k3>jX*k1){k3=jX*k1;}if(k4>jY*k2){k4=jY*k2;}jI['set']('width',k3);jI['set']('height',k4);jI['set']('x',(jX-jW('actualWidth'))*0.5);jI['set']('y',(jY-jW('actualHeight'))*0.5);};if(jN){this['executeFunctionWhenChange'](jK,0x0,jR);}var jT=jJ['get']('class');var jU=jT=='Video'||jT=='Video360';jK['set']('selectedIndex',0x0);if(jU){this['bind']('resize',jS,this);jS();jK['get']('items')[0x0]['get']('player')['play']();}else{jI['set']('width',jL);jI['set']('height',jM);}this['MainViewer']['set']('toolTipEnabled',![]);if(jO){this['pauseGlobalAudios']();}var jV=this['pauseCurrentPlayers'](!jO);jI['bind']('close',jQ,this);jI['show'](this,!![]);};TDV['Tour']['Script']['showPopupImage']=function(ke,kf,kg,kh,ki,kj,kk,kl,km,kn,ko,kp){var kq=this;var kr=![];var ks=function(){kJ['unbind']('loaded',kv,kq);kz();};var kt=function(){kJ['unbind']('click',kt,this);if(kN!=undefined){clearTimeout(kN);}};var ku=function(){setTimeout(kD,0x0);};var kv=function(){kq['unbind']('click',ks,kq);kI['set']('visible',!![]);kD();kK['set']('visible',!![]);kJ['unbind']('loaded',kv,this);kJ['bind']('userInteractionStart',kE,this);kJ['bind']('userInteractionEnd',kF,this);kJ['bind']('resize',ku,this);kN=setTimeout(kw,0xc8);};var kw=function(){kN=undefined;if(kl){kJ['bind']('click',kt,this);ky();}kJ['bind']('backgroundClick',kz,this);if(kf){kJ['bind']('click',kB,this);kJ['set']('imageCursor','hand');}kK['bind']('click',kz,this);if(ko)ko();};var kx=function(){if(kl&&kN){clearTimeout(kN);kN=undefined;}};var ky=function(){if(kl){kx();kN=setTimeout(kz['bind'](this),kl);}};var kz=function(){kq['MainViewer']['set']('toolTipEnabled',!![]);kr=!![];if(kN)clearTimeout(kN);if(kO)clearTimeout(kO);if(kl)kt();if(kp)kp();kJ['set']('visible',![]);if(kj&&kj['get']('duration')>0x0){kj['bind']('end',kA,this);}else{kJ['set']('image',null);}kK['set']('visible',![]);kI['set']('visible',![]);kq['unbind']('click',ks,kq);kJ['unbind']('backgroundClick',kz,this);kJ['unbind']('userInteractionStart',kE,this);kJ['unbind']('userInteractionEnd',kF,this,!![]);kJ['unbind']('resize',ku,this);if(kf){kJ['unbind']('click',kB,this);kJ['set']('cursor','default');}kK['unbind']('click',kz,this);kq['resumePlayers'](kM,km==null||kn);if(kn){kq['resumeGlobalAudios']();}if(km){kq['stopGlobalAudio'](km);}};var kA=function(){kJ['set']('image',null);kj['unbind']('end',kA,this);};var kB=function(){kJ['set']('image',kC()?ke:kf);};var kC=function(){return kJ['get']('image')==kf;};var kD=function(){var kP=kJ['get']('actualWidth')-kJ['get']('imageLeft')-kJ['get']('imageWidth')+0xa;var kQ=kJ['get']('imageTop')+0xa;if(kP<0xa)kP=0xa;if(kQ<0xa)kQ=0xa;kK['set']('right',kP);kK['set']('top',kQ);};var kE=function(){kx();if(kO){clearTimeout(kO);kO=undefined;}else{kK['set']('visible',![]);}};var kF=function(){ky();if(!kr){kO=setTimeout(kG,0x12c);}};var kG=function(){kO=undefined;kK['set']('visible',!![]);kD();};var kH=function(kR){var kS=kR['get']('data');if(kS&&'extraLevels'in kS){var kT=kq['rootPlayer']['createInstance'](kR['get']('class'));var kU=kS['extraLevels'];kT['set']('levels',kR['get']('levels')['concat'](kU));kR=kT;}return kR;};this['MainViewer']['set']('toolTipEnabled',![]);var kI=this['veilPopupPanorama'];var kJ=this['zoomImagePopupPanorama'];var kK=this['closeButtonPopupPanorama'];if(kk){for(var kL in kk){kK['set'](kL,kk[kL]);}}var kM=this['pauseCurrentPlayers'](km==null||!kn);if(kn){this['pauseGlobalAudios']();}if(km){this['playGlobalAudio'](km);}var kN=undefined;var kO=undefined;ke=kH(ke);if(kf)kf=kH(kf);kJ['bind']('loaded',kv,this);setTimeout(function(){kq['bind']('click',ks,kq,![]);},0x0);kJ['set']('image',ke);kJ['set']('customWidth',kg);kJ['set']('customHeight',kh);kJ['set']('showEffect',ki);kJ['set']('hideEffect',kj);kJ['set']('visible',!![]);return kJ;};TDV['Tour']['Script']['showPopupPanoramaOverlay']=function(kV,kW,kX,kY,kZ,l0,l1){var l2=this;this['MainViewer']['set']('toolTipEnabled',![]);var l3=this['isCardboardViewMode']();if(!l3){var l4=this['zoomImagePopupPanorama'];var l5=kV['get']('showDuration');var l6=kV['get']('hideDuration');var l8=this['pauseCurrentPlayers'](l0==null||!l1);var l9=kV['get']('popupMaxWidth');var la=kV['get']('popupMaxHeight');var lb=function(){var le=function(){if(!l2['isCardboardViewMode']())kV['set']('visible',![]);};kV['unbind']('showEnd',lb,l2);kV['set']('showDuration',0x1);kV['set']('hideDuration',0x1);l2['showPopupImage'](kX,kY,kV['get']('popupMaxWidth'),kV['get']('popupMaxHeight'),null,null,kW,kZ,l0,l1,le,lc);};var lc=function(){var lf=function(){kV['unbind']('showEnd',lf,l2);kV['set']('visible',![]);kV['set']('showDuration',l5);kV['set']('popupMaxWidth',l9);kV['set']('popupMaxHeight',la);};l2['resumePlayers'](l8,l0==null||!l1);var lg=l4['get']('imageWidth');var lh=l4['get']('imageHeight');kV['bind']('showEnd',lf,l2,!![]);kV['set']('showDuration',0x1);kV['set']('hideDuration',l6);kV['set']('popupMaxWidth',lg);kV['set']('popupMaxHeight',lh);if(kV['get']('visible'))lf();else kV['set']('visible',!![]);l2['MainViewer']['set']('toolTipEnabled',!![]);};kV['bind']('showEnd',lb,this,!![]);}else{var ld=function(){l2['resumePlayers'](l8,l0==null||l1);if(l1){l2['resumeGlobalAudios']();}if(l0){l2['stopGlobalAudio'](l0);}kV['unbind']('hideEnd',ld,l2);l2['MainViewer']['set']('toolTipEnabled',!![]);};var l8=this['pauseCurrentPlayers'](l0==null||!l1);if(l1){this['pauseGlobalAudios']();}if(l0){this['playGlobalAudio'](l0);}kV['bind']('hideEnd',ld,this,!![]);}kV['set']('visible',!![]);};TDV['Tour']['Script']['showPopupPanoramaVideoOverlay']=function(li,lj,lk){var ll=this;var lm=function(){li['unbind']('showEnd',lm);lq['bind']('click',lo,this);lp();lq['set']('visible',!![]);};var ln=function(){if(!li['get']('loop'))lo();};var lo=function(){ll['MainViewer']['set']('toolTipEnabled',!![]);li['set']('visible',![]);lq['set']('visible',![]);lq['unbind']('click',lo,ll);li['unbind']('end',ln,ll);li['unbind']('hideEnd',lo,ll,!![]);ll['resumePlayers'](ls,!![]);if(lk){ll['resumeGlobalAudios']();}};var lp=function(){var lt=0xa;var lu=0xa;lq['set']('right',lt);lq['set']('top',lu);};this['MainViewer']['set']('toolTipEnabled',![]);var lq=this['closeButtonPopupPanorama'];if(lj){for(var lr in lj){lq['set'](lr,lj[lr]);}}var ls=this['pauseCurrentPlayers'](!![]);if(lk){this['pauseGlobalAudios']();}li['bind']('end',ln,this,!![]);li['bind']('showEnd',lm,this,!![]);li['bind']('hideEnd',lo,this,!![]);li['set']('visible',!![]);};TDV['Tour']['Script']['showWindow']=function(lv,lw,lx){if(lv['get']('visible')==!![]){return;}var ly=function(){lz();this['resumePlayers'](lC,!lx);lv['unbind']('close',ly,this);};var lz=function(){lv['unbind']('click',lz,this);if(lA!=undefined){clearTimeout(lA);}};var lA=undefined;if(lw){var lB=function(){lv['hide']();};lv['bind']('click',lz,this);lA=setTimeout(lB,lw);}var lC=this['pauseCurrentPlayers'](!lx);lv['bind']('close',ly,this);lv['show'](this,!![]);};TDV['Tour']['Script']['startPanoramaWithCamera']=function(lD,lE){var lF=this['getByClassName']('PlayList');if(lF['length']==0x0)return;var lG=window['currentPanoramasWithCameraChanged']==undefined||!(lD['get']('id')in window['currentPanoramasWithCameraChanged']);var lH=[];for(var lJ=0x0,lK=lF['length'];lJ<lK;++lJ){var lL=lF[lJ];var lM=lL['get']('items');for(var lN=0x0,lO=lM['length'];lN<lO;++lN){var lQ=lM[lN];if(lQ['get']('media')==lD&&(lQ['get']('class')=='PanoramaPlayListItem'||lQ['get']('class')=='Video360PlayListItem')){if(lG){lH['push']({'camera':lQ['get']('camera'),'item':lQ});}lQ['set']('camera',lE);}}}if(lH['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var lR=lD['get']('id');window['currentPanoramasWithCameraChanged'][lR]=lH;var lS=function(){if(lR in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][lR];}for(var lX=0x0;lX<lH['length'];lX++){lH[lX]['item']['set']('camera',lH[lX]['camera']);lH[lX]['item']['unbind']('end',lS,this);}};var lT=function(lY){var lZ=lY['source'];lZ['unbind']('begin',lT,this);lZ['get']('player')['get']('viewerArea')['set']('translationTransitionEnabled',!![]);};for(var lJ=0x0;lJ<lH['length'];lJ++){var lU=lH[lJ];var lQ=lU['item'];var lV=lQ['get']('player');if(lV){var lW=lV['get']('viewerArea');if(lW&&lW['get']('translationTransitionEnabled')==!![]){lW['set']('translationTransitionEnabled',![]);lQ['bind']('begin',lT,this);}}lQ['bind']('end',lS,this);}}};TDV['Tour']['Script']['stopAndGoCamera']=function(m0,m1){var m2=m0['get']('initialSequence');m2['pause']();var m3=function(){m2['play']();};setTimeout(m3,m1);};TDV['Tour']['Script']['syncPlaylists']=function(m4){var m5=function(md,me){for(var mf=0x0,mg=m4['length'];mf<mg;++mf){var mh=m4[mf];if(mh!=me){var mi=mh['get']('items');for(var mj=0x0,mk=mi['length'];mj<mk;++mj){if(mi[mj]['get']('media')==md){if(mh['get']('selectedIndex')!=mj){mh['set']('selectedIndex',mj);}break;}}}}};var m6=function(ml){var mm=ml['source'];var mn=mm['get']('selectedIndex');if(mn<0x0)return;var mo=mm['get']('items')[mn]['get']('media');m5(mo,mm);};var m7=function(mp){var mq=mp['source']['get']('panoramaMapLocation');if(mq){var mr=mq['get']('map');m5(mr);}};for(var m9=0x0,mb=m4['length'];m9<mb;++m9){m4[m9]['bind']('change',m6,this);}var mc=this['getByClassName']('MapPlayer');for(var m9=0x0,mb=mc['length'];m9<mb;++m9){mc[m9]['bind']('panoramaMapLocation_change',m7,this);}};TDV['Tour']['Script']['translate']=function(ms){return this['get']('data')['localeManager']['trans'](ms);};TDV['Tour']['Script']['triggerOverlay']=function(mt,mu){if(mt['get']('areas')!=undefined){var mv=mt['get']('areas');for(var mw=0x0;mw<mv['length'];++mw){mv[mw]['trigger'](mu);}}else{mt['trigger'](mu);}};TDV['Tour']['Script']['updateDeepLink']=function(){var mx=this['mainPlayList']['get']('selectedIndex');if(mx>=0x0){location['hash']='#media='+(mx+0x1);}else{var my=this['getActiveMediaWithViewer'](this['MainViewer']);if(my!=undefined){var mz=my['get']('data');if(mz){location['hash']='#media-name='+mz['label'];}}}};TDV['Tour']['Script']['updateMediaLabelFromPlayList']=function(mA,mB,mC){var mD=function(){var mF=mA['get']('selectedIndex');if(mF>=0x0){var mG=function(){mJ['unbind']('begin',mG);mH(mF);};var mH=function(mK){var mL=mJ['get']('media');var mM=mL['get']('data');var mN=mM!==undefined?mM['description']||mL['get']('label'):mL['get']('label');mI(mN);};var mI=function(mO){if(mO!==undefined){mB['set']('html','<div\x20style=\x22text-align:left\x22><SPAN\x20STYLE=\x22color:#FFFFFF;font-size:12px;font-family:Verdana\x22><span\x20color=\x22white\x22\x20font-family=\x22Verdana\x22\x20font-size=\x2212px\x22>'+mO+'</SPAN></div>');}else{mB['set']('html','');}};var mJ=mA['get']('items')[mF];if(mB['get']('html')){mI('Loading...');mJ['bind']('begin',mG);}else{mH(mF);}}};var mE=function(){mB['set']('html',undefined);mA['unbind']('change',mD,this);mC['unbind']('stop',mE,this);};if(mC){mC['bind']('stop',mE,this);}mA['bind']('change',mD,this);mD();};TDV['Tour']['Script']['updateVideoCues']=function(mP,mQ){var mR=mP['get']('items')[mQ];var mS=mR['get']('media');if(mS['get']('cues')['length']==0x0)return;var mT=mR['get']('player');var mU=[];var mV=function(){if(mP['get']('selectedIndex')!=mQ){mS['unbind']('cueChange',mW,this);mP['unbind']('change',mV,this);}};var mW=function(mX){var mY=mX['data']['activeCues'];for(var mZ=0x0,n0=mU['length'];mZ<n0;++mZ){var n1=mU[mZ];if(mY['indexOf'](n1)==-0x1&&(n1['get']('startTime')>mT['get']('currentTime')||n1['get']('endTime')<mT['get']('currentTime')+0.5)){n1['trigger']('end');}}mU=mY;};mS['bind']('cueChange',mW,this);mP['bind']('change',mV,this);};TDV['Tour']['Script']['visibleComponentsIfPlayerFlagEnabled']=function(n2,n3){var n4=this['get'](n3);for(var n5 in n2){n2[n5]['set']('visible',n4);}};TDV['Tour']['Script']['quizStart']=function(){var n6=this['get']('data')['quiz'];return n6?n6['start']():undefined;};TDV['Tour']['Script']['quizFinish']=function(){var n7=this['get']('data')['quiz'];return n7?n7['finish']():undefined;};TDV['Tour']['Script']['quizSetItemFound']=function(n8){var n9=this['get']('data')['quiz'];if(n9)n9['setItemFound'](n8);};TDV['Tour']['Script']['quizShowQuestion']=function(na){var nb=this['get']('data');var nc=nb['quiz'];var nd;if(nc){var ne=this['pauseCurrentPlayers'](!![]);var nf=this[na];var ng;if(!nf['media']){ng=this['get']('isMobile')?{'theme':{'window':{'height':undefined,'maxHeight':this['get']('actualHeight'),'optionsContainer':{'height':'100%'}}}}:{'theme':{'window':{'width':'40%','height':undefined,'maxHeight':0x2bc,'optionsContainer':{'width':'100%'}}}};}else if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){ng={'theme':{'window':{'bodyContainer':{'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e},'mediaContainer':{'width':'60%','height':'100%'},'buttonsContainer':{'paddingLeft':0x14,'paddingRight':0x14},'optionsContainer':{'width':'40%','height':'100%','paddingLeft':0x0,'paddingRight':0x0}}}};}nd=nc['showQuestion'](na,ng);nd['then'](function(nh){this['resumePlayers'](ne,!![]);}['bind'](this));}return nd;};TDV['Tour']['Script']['quizShowScore']=function(ni){var nj=this['get']('data');var nk=nj['quiz'];if(nk){if(this['get']('isMobile')&&this['get']('orientation')=='portrait'){ni=ni||{};ni=this['mixObject'](ni,nj['scorePortraitConfig']);}return nk['showScore'](ni);}};TDV['Tour']['Script']['quizShowTimeout']=function(nl,nm){var nn=this['get']('data');var no=nn['quiz'];if(no){if(this['get']('isMobile')&&this['get']('orientation')=='portrait'){nm=nm||{};nm=this['mixObject'](nm,nn['scorePortraitConfig']);}no['showTimeout'](nl,nm);}};TDV['Tour']['Script']['getKey']=function(np){return window[np];};TDV['Tour']['Script']['registerKey']=function(nq,nr){window[nq]=nr;};TDV['Tour']['Script']['unregisterKey']=function(ns){delete window[ns];};TDV['Tour']['Script']['existsKey']=function(nt){return nt in window;};
//# sourceMappingURL=http://localhost:9000/script_v2020.2.14.js.map
//Generated with v2020.2.14, Sun Jun 28 2020